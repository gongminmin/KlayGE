ADD_SUBDIRECTORY(Core/TableGen)
ADD_SUBDIRECTORY(Core)

ADD_SUBDIRECTORY(Plugins/Render/NullRender)
ADD_SUBDIRECTORY(Plugins/Scene/OCTree)
ADD_SUBDIRECTORY(Plugins/Input/MsgInput)
ADD_SUBDIRECTORY(Plugins/Script/Python)

IF(NOT KLAYGE_PLATFORM_WINDOWS_STORE)
	IF((NOT KLAYGE_PLATFORM_ANDROID) AND (NOT KLAYGE_PLATFORM_IOS))
		ADD_SUBDIRECTORY(Plugins/Render/OpenGL)
	ENDIF()
	ADD_SUBDIRECTORY(Plugins/Render/OpenGLES)

	IF((NOT KLAYGE_PLATFORM_ANDROID) AND (NOT KLAYGE_PLATFORM_IOS) AND (NOT KLAYGE_PLATFORM_NAME STREQUAL "win_arm") AND (NOT KLAYGE_PLATFORM_NAME STREQUAL "win_arm64"))
		ADD_SUBDIRECTORY(Plugins/Audio/OpenAL)
	ENDIF()

	ADD_SUBDIRECTORY(Plugins/Audio/OggVorbis)
ENDIF()

IF(KLAYGE_PLATFORM_WINDOWS)
	ADD_SUBDIRECTORY(Plugins/Render/D3D11)
	IF(NOT ((KLAYGE_ARCH_NAME STREQUAL "arm") OR (KLAYGE_ARCH_NAME STREQUAL "arm64")))
		ADD_SUBDIRECTORY(Plugins/Render/D3D12)
	ENDIF()
ENDIF()

IF(KLAYGE_PLATFORM_WINDOWS_DESKTOP)
	ADD_SUBDIRECTORY(Plugins/Audio/DSound)
	ADD_SUBDIRECTORY(Plugins/Audio/XAudio)
	ADD_SUBDIRECTORY(Plugins/Show/DShow)
	ADD_SUBDIRECTORY(KGEConfig)
ENDIF()
