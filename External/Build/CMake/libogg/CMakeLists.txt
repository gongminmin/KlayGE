SET(LIBOGG_PROJECT_DIR "${EXTERNAL_PROJECT_DIR}/libogg")
SET(LIBOGG_OUTPUT_DIR "${EXTERNAL_PROJECT_DIR}/lib/libogg/${KLAYGE_PLATFORM_NAME}")

set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${LIBOGG_OUTPUT_DIR})
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_DEBUG ${LIBOGG_OUTPUT_DIR})
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_RELEASE ${LIBOGG_OUTPUT_DIR})
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_RELWITHDEBINFO ${LIBOGG_OUTPUT_DIR})
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_MINSIZEREL ${LIBOGG_OUTPUT_DIR})

UpdateExternalLib("libogg" "https://github.com/xiph/ogg.git" "c8fca6b4a02d695b1ceea39b330d4406001c03ed")

SET(BUILD_SHARED_LIBS OFF CACHE BOOL "" FORCE)
SET(BUILD_TESTING OFF CACHE BOOL "" FORCE)
SET(BUILD_FRAMEWORK OFF CACHE BOOL "" FORCE)

ADD_SUBDIRECTORY(${LIBOGG_PROJECT_DIR} "${CMAKE_CURRENT_BINARY_DIR}/ogg")

SET_TARGET_PROPERTIES(ogg PROPERTIES
	OUTPUT_NAME ogg_static${KLAYGE_OUTPUT_SUFFIX}
	FOLDER "${EXTERNAL_VS_FOLDER_PREFIX}/libogg"
)
